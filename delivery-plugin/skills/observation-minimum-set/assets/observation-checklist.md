# 観測現状診断チェックリスト

## プロジェクト情報

- プロジェクト名:
- 診断日:
- 診断者:

---

## 1. 実行可能仕様 ＋ 仮定ログ（仕様誤解対策）

### 受入テスト
- [ ] 正常系（happy path）のテストがある
- [ ] 否定例（やってはいけない挙動）のテストがある
- [ ] 境界例のテストがある

### 仮定ログ
- [ ] 仮定・未確認事項を明文化している
- [ ] 仮定ログを差分レビュー対象にしている

**現状評価**: ⬜未着手 / ⬜部分的 / ⬜完了

**ギャップ**:
-

---

## 2. クリーンビルド ＋ 型/コンパイル ＋ lint（基本品質）

### 依存固定
- [ ] lockfile が存在する
- [ ] CI で lockfile 変更を検知する
- [ ] 固定破りで即 fail する

### ビルド
- [ ] クリーン環境でのビルドが CI で回る
- [ ] キャッシュに依存しないビルドができる

### 静的解析
- [ ] 型チェック/コンパイルが通る
- [ ] lint がエラー 0

**現状評価**: ⬜未着手 / ⬜部分的 / ⬜完了

**ギャップ**:
-

---

## 3. 境界値テスト ＋ 性質テスト（境界条件対策）

### 境界値テスト
- [ ] API入力の境界値テストがある
- [ ] DB境界の境界値テストがある
- [ ] ファイル境界の境界値テストがある
- [ ] 時間境界の境界値テストがある
- [ ] 数値境界の境界値テストがある

### 性質テスト
- [ ] 重要ロジックに性質テストがある
- [ ] 使用ライブラリ:

**現状評価**: ⬜未着手 / ⬜部分的 / ⬜完了

**ギャップ**:
-

---

## 4. 依存固定 ＋ 脆弱性スキャン ＋ Secret scan（供給網対策）

### 依存固定
- [ ] lockfile が存在する（再掲）

### 脆弱性スキャン
- [ ] 依存脆弱性スキャンを CI で実行している
- [ ] 使用ツール:

### Secret scan
- [ ] Secret scan を CI で実行している
- [ ] 使用ツール:

**現状評価**: ⬜未着手 / ⬜部分的 / ⬜完了

**ギャップ**:
-

---

## 5. 運用観測性の最小（運用不能対策）

### 設定検証
- [ ] 起動時に設定検証を行っている
- [ ] 不正な設定で即終了する（fail fast）

### ヘルスチェック
- [ ] liveness エンドポイントがある
- [ ] readiness エンドポイントがある

### ログ
- [ ] 構造化ログを出力している
- [ ] 相関 ID を含めている
- [ ] エラー分類を含めている

### メトリクス
- [ ] レイテンシを計測している
- [ ] エラー率を計測している
- [ ] 飽和度を計測している

**現状評価**: ⬜未着手 / ⬜部分的 / ⬜完了

**ギャップ**:
-

---

## 6. 並行性観測（条件付き：並行性がある領域のみ）

### 該当有無
- [ ] 並行/非同期処理がある → 以下をチェック
- [ ] 並行/非同期処理がない → スキップ

### レース検出
- [ ] レースデテクタを CI で回している
- [ ] 使用ツール:

### ストレステスト
- [ ] ストレステストがある
- [ ] 反復回数/並列度:

### 飽和監視
- [ ] タイムアウト率を監視している
- [ ] キュー深度を監視している

**現状評価**: ⬜該当なし / ⬜未着手 / ⬜部分的 / ⬜完了

**ギャップ**:
-

---

## 総合評価

| 領域 | 評価 | 優先度 |
|------|------|--------|
| 1. 実行可能仕様 | | |
| 2. ビルド/型/lint | | |
| 3. 境界値/性質 | | |
| 4. 供給網 | | |
| 5. 運用観測性 | | |
| 6. 並行性 | | |

## 優先対応事項

1.
2.
3.

## 次回診断予定

- 日付:
- 担当:
