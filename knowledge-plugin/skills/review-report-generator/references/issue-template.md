# GitHub Issue テンプレート

issue 出力形式で `gh issue create` する際のテンプレート。

## P0/P1 個別Issue

各P0/P1の指摘を1つずつIssueにする。以下の形式で作成する。

### タイトル

```
[{priority}] {finding.title}
```

例: `[P0] payment-serviceタイムアウト不整合`

### ラベル

- `architecture-review` （固定）
- 優先度ラベル: `P0-blocker` または `P1-critical`

### 本文テンプレート

```markdown
## 概要

{failure_mode.description}

## 影響

- **スコープ**: {scope.type} - {scope.affected}
- **影響範囲**:
{failure_mode.impact を箇条書き}

## 発生条件

{trigger_conditions を箇条書き}

## 根拠

{evidence を箇条書き。source, field, value を明記}

## 対応案

| 案 | 内容 | 工数 | メリット | デメリット |
|----|------|------|---------|-----------|
{options を表形式で列挙}

**推奨**: Option {recommended_option} - {推奨案のaction}

## PR分割

{pr_breakdown を箇条書き。各PRのタイトル、スコープ、サイズ}

## 受け入れ条件

- [ ] {acceptance_criteria.tests を箇条書き}
- [ ] {acceptance_criteria.metrics を箇条書き}
- [ ] {acceptance_criteria.contract を箇条書き}

## ADR

{adr_needed が true の場合}
ADR作成が必要: 「{adr_topic}」

---
*Generated by architecture-review*
```

## P2以下まとめIssue

P2以下の指摘は1つのIssueにまとめる。

### タイトル

```
[Architecture Review] P2以下の指摘事項まとめ（{件数}件）
```

### ラベル

- `architecture-review`

### 本文テンプレート

```markdown
## アーキテクチャレビュー: 中〜低優先度の指摘事項

以下の指摘はP2以下の優先度。バックログとして管理する。

### P2 (High) - {件数}件

{P2の各指摘を以下の形式で列挙}

#### {id}: {title}
- **スコープ**: {scope.type} - {scope.affected}
- **問題**: {failure_mode.description の1行要約}
- **推奨**: Option {recommended_option} - {action}
- **工数**: {effort}

---

### P3/P4 (Medium/Low) - {件数}件

{P3/P4の各指摘を以下の簡易形式で列挙}

- **{id}**: {title} ({scope.type}, {effort})

---
*Generated by architecture-review*
```

## gh コマンド例

```bash
# P0/P1の個別Issue作成
gh issue create \
  --title "[P0] payment-serviceタイムアウト不整合" \
  --label "architecture-review,P0-blocker" \
  --body "$(cat <<'BODY'
本文をここに展開
BODY
)"

# P2以下のまとめIssue作成
gh issue create \
  --title "[Architecture Review] P2以下の指摘事項まとめ（13件）" \
  --label "architecture-review" \
  --body "$(cat <<'BODY'
本文をここに展開
BODY
)"
```
