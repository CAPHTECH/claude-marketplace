# 非機能要件

## 性能要件

| 項目 | 要件 | 測定方法 | 備考 |
|------|------|---------|------|
| 画面表示速度 | 初期表示 3秒以内 | Lighthouse | LCP基準 |
| API応答時間 | 95%ile 500ms以内 | APM | p95値 |
| 同時接続数 | 1,000ユーザー | 負荷テスト | 初期想定 |
| スループット | 100 req/sec | 負荷テスト | ピーク時 |

## 可用性

| 項目 | 要件 | 備考 |
|------|------|------|
| 稼働率 | 99.5% | 月間ダウンタイム 3.6時間以内 |
| 計画メンテナンス | 月1回、深夜2時間以内 | 事前通知必須 |
| 障害復旧時間（RTO） | 4時間以内 | - |
| 復旧ポイント目標（RPO） | 1時間以内 | - |

## セキュリティ

| 項目 | 要件 | 備考 |
|------|------|------|
| 認証方式 | OAuth 2.0 / JWT | セッション有効期限: 30日 |
| 通信暗号化 | TLS 1.3 | HTTP/2対応 |
| データ暗号化 | AES-256（保存時） | 個人情報対象 |
| パスワードポリシー | 8文字以上、英数字混合 | - |
| 二要素認証 | 任意（推奨） | Phase 2で必須化検討 |
| ログ保持期間 | 1年 | 監査ログ |

### セキュリティチェックリスト

- [ ] OWASP Top 10対策
- [ ] SQLインジェクション対策
- [ ] XSS対策
- [ ] CSRF対策
- [ ] 適切な認可制御
- [ ] 機密情報のマスキング

## スケーラビリティ

| フェーズ | ユーザー数 | インフラ構成 | 備考 |
|---------|----------|-------------|------|
| MVP | ~1,000 | 単一サーバー | 最小構成 |
| Growth | ~10,000 | オートスケーリング | 水平スケール |
| Scale | ~100,000 | マイクロサービス化 | 分散構成 |

## 対応環境

### モバイル

| プラットフォーム | 対応バージョン | 備考 |
|-----------------|---------------|------|
| iOS | 15.0以上 | iPhone対応 |
| Android | 10.0以上 | API Level 29以上 |

### Web

| ブラウザ | 対応バージョン |
|---------|---------------|
| Chrome | 最新2バージョン |
| Safari | 最新2バージョン |
| Edge | 最新2バージョン |
| Firefox | 最新2バージョン |

### 画面サイズ

| デバイス | 幅 | 備考 |
|---------|---|------|
| スマートフォン | 320px - 480px | 縦向き優先 |
| タブレット | 481px - 1024px | 横向き対応 |
| デスクトップ | 1025px以上 | レスポンシブ |

## アクセシビリティ

| 項目 | 要件 |
|------|------|
| 準拠基準 | WCAG 2.1 Level AA |
| スクリーンリーダー | VoiceOver/TalkBack対応 |
| コントラスト比 | 4.5:1以上（通常テキスト） |
| フォントサイズ | 最小14px、拡大可能 |
| キーボード操作 | Tab移動可能 |

## 多言語対応

| 言語 | 優先度 | 対応時期 |
|------|--------|---------|
| 日本語 | 必須 | MVP |
| 英語 | 高 | Phase 2 |
| その他 | 低 | 要検討 |

## 監視・運用

| 項目 | ツール/方法 | 備考 |
|------|-----------|------|
| アプリケーション監視 | APM（Datadog等） | エラー率、レスポンス時間 |
| インフラ監視 | CloudWatch等 | CPU、メモリ、ディスク |
| ログ管理 | 集中ログ基盤 | 検索・分析可能 |
| アラート | Slack/PagerDuty | 重要度別通知 |

## バックアップ・DR

| 項目 | 要件 |
|------|------|
| データバックアップ | 日次自動バックアップ |
| バックアップ保持期間 | 30日 |
| リージョン | 単一リージョン（MVP） |
| DR構成 | Phase 2で検討 |
